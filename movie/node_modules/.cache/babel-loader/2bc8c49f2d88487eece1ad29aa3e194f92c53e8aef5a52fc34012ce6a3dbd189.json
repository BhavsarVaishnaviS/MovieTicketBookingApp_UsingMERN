{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  try {\n    const res = await axios.get(\"/movie\");\n    if (res.status !== 200) {\n      console.error(\"Failed to fetch movies, status code:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error fetching movies:\", err);\n    return null;\n  }\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  try {\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : undefined,\n      email: data.email,\n      password: data.password\n    });\n    if (![200, 201].includes(res.status)) {\n      console.error(\"Unexpected response status:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error in user authentication request:\", err);\n    return null;\n  }\n};\nexport const sendAdminAuthRequest = async data => {\n  try {\n    const res = await axios.post(\"/admin/login\", {\n      email: data.email,\n      password: data.password\n    });\n    if (res.status !== 200) {\n      console.error(\"Admin login failed, status code:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error in admin login request:\", err);\n    return null;\n  }\n};\nexport const getMovieDetails = async id => {\n  try {\n    const res = await axios.get(`/movie/${id}`);\n    if (res.status !== 200) {\n      console.error(\"Failed to fetch movie details, status code:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error fetching movie details:\", err);\n    return null;\n  }\n};\nexport const newBooking = async data => {\n  try {\n    const userId = localStorage.getItem(\"userId\");\n    if (!userId) {\n      console.error(\"User ID not found in localStorage\");\n      return null;\n    }\n    const res = await axios.post('/booking', {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: userId\n    });\n    if (res.status !== 201) {\n      console.error(\"Failed to create booking, status code:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error creating new booking:\", err);\n    return null;\n  }\n};\nexport const getUserBooking = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    if (!id) {\n      console.error(\"User ID not found in localStorage\");\n      return null;\n    }\n    const res = await axios.get(`/user/bookings/${id}`);\n    if (res.status !== 200) {\n      console.error(\"Failed to fetch user bookings, status code:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error fetching user bookings:\", err);\n    return null;\n  }\n};\nexport const deleteBooking = async id => {\n  try {\n    const res = await axios.delete(`/booking/${id}`);\n    if (res.status !== 200) {\n      console.error(\"Failed to delete booking, status code:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error deleting booking:\", err);\n    return null;\n  }\n};\nexport const getUserDetails = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    if (!id) {\n      console.error(\"User ID not found in localStorage\");\n      return null;\n    }\n    const res = await axios.get(`/user/${id}`);\n    if (res.status !== 200) {\n      console.error(\"Failed to fetch user details, status code:\", res.status);\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.error(\"Error fetching user details:\", err);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","status","console","error","data","err","sendUserAuthRequest","signup","post","name","undefined","email","password","includes","sendAdminAuthRequest","getMovieDetails","id","newBooking","userId","localStorage","getItem","movie","seatNumber","date","user","getUserBooking","deleteBooking","delete","getUserDetails"],"sources":["D:/Task/MovieTicketApp/movie/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n    try {\r\n        const res = await axios.get(\"/movie\");\r\n        if (res.status !== 200) {\r\n            console.error(\"Failed to fetch movies, status code:\", res.status);\r\n            return null;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error fetching movies:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n    try {\r\n        const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n            name: signup ? data.name : undefined,\r\n            email: data.email,\r\n            password: data.password\r\n        });\r\n\r\n        if (![200, 201].includes(res.status)) {\r\n            console.error(\"Unexpected response status:\", res.status);\r\n            return null;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error in user authentication request:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const sendAdminAuthRequest = async (data) => {\r\n    try {\r\n        const res = await axios.post(\"/admin/login\", {\r\n            email: data.email,\r\n            password: data.password,\r\n        });\r\n\r\n        if (res.status !== 200) {\r\n            console.error(\"Admin login failed, status code:\", res.status);\r\n            return null;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error in admin login request:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n    try {\r\n        const res = await axios.get(`/movie/${id}`);\r\n        if (res.status !== 200) {\r\n            console.error(\"Failed to fetch movie details, status code:\", res.status);\r\n            return null;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error fetching movie details:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n    try {\r\n        const userId = localStorage.getItem(\"userId\");\r\n        if (!userId) {\r\n            console.error(\"User ID not found in localStorage\");\r\n            return null;\r\n        }\r\n\r\n        const res = await axios.post('/booking', {\r\n            movie: data.movie,\r\n            seatNumber: data.seatNumber,\r\n            date: data.date,\r\n            user: userId,\r\n        });\r\n\r\n        if (res.status !== 201) {\r\n            console.error(\"Failed to create booking, status code:\", res.status);\r\n            return null;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error creating new booking:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getUserBooking = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        if (!id) {\r\n            console.error(\"User ID not found in localStorage\");\r\n            return null;\r\n        }\r\n\r\n        const res = await axios.get(`/user/bookings/${id}`);\r\n        if (res.status !== 200) {\r\n            console.error(\"Failed to fetch user bookings, status code:\", res.status);\r\n            return null;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error fetching user bookings:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const deleteBooking = async (id) => {\r\n    try {\r\n        const res = await axios.delete(`/booking/${id}`);\r\n        if (res.status !== 200) {\r\n            console.error(\"Failed to delete booking, status code:\", res.status);\r\n            return null;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error deleting booking:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getUserDetails = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        if (!id) {\r\n            console.error(\"User ID not found in localStorage\");\r\n            return null;\r\n        }\r\n\r\n        const res = await axios.get(`/user/${id}`);\r\n        if (res.status !== 200) {\r\n            console.error(\"Failed to fetch user details, status code:\", res.status);\r\n            return null;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.error(\"Error fetching user details:\", err);\r\n        return null;\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}