{"ast":null,"code":"import axios from \"axios\";\n\n// Utility function for logging errors\nconst logError = err => {\n  console.error(err.response ? err.response.data : err.message);\n};\nexport const getAllMovies = async () => {\n  try {\n    const res = await axios.get(\"/movie\");\n    if (res.status !== 200) {\n      console.log(\"No Data\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  try {\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : \"\",\n      email: data.email,\n      password: data.password\n    });\n    if (![200, 201].includes(res.status)) {\n      console.log(\"Unexpected Error Occurred\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const sendAdminAuthRequest = async data => {\n  try {\n    const res = await axios.post(\"/admin/login\", {\n      email: data.email,\n      password: data.password\n    });\n    if (res.status !== 200) {\n      console.log(\"Unexpected Error\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const getMovieDetails = async id => {\n  try {\n    const res = await axios.get(`/movie/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const newBooking = async data => {\n  try {\n    const res = await axios.post('/booking', {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n    if (res.status !== 201) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const getUserBooking = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/bookings/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const deleteBooking = async id => {\n  try {\n    const res = await axios.delete(`/booking/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const getUserDetails = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const addMovie = async data => {\n  try {\n    const res = await axios.post(\"/movie\", {\n      title: data.title,\n      description: data.description,\n      releaseDate: data.releaseDate,\n      posterUrl: data.posterUrl,\n      featured: data.featured,\n      actors: data.actors,\n      admin: localStorage.getItem(\"adminId\")\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    if (res.status !== 201) {\n      return console.log(\"Unexpected Error Occurred\");\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};\nexport const getAdminById = async () => {\n  try {\n    const adminId = localStorage.getItem(\"adminId\");\n    const res = await axios.get(`/admin/${adminId}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error Occurred\");\n    }\n    return res.data;\n  } catch (err) {\n    logError(err);\n  }\n};","map":{"version":3,"names":["axios","logError","err","console","error","response","data","message","getAllMovies","res","get","status","log","sendUserAuthRequest","signup","post","name","email","password","includes","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","featured","actors","admin","headers","Authorization","getAdminById","adminId"],"sources":["D:/Task/MovieTicketApp/movie/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Utility function for logging errors\r\nconst logError = (err) => {\r\n    console.error(err.response ? err.response.data : err.message);\r\n};\r\n\r\nexport const getAllMovies = async () => {\r\n    try {\r\n        const res = await axios.get(\"/movie\");\r\n        if (res.status !== 200) {\r\n            console.log(\"No Data\");\r\n            return;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n    try {\r\n        const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n            name: signup ? data.name : \"\",\r\n            email: data.email,\r\n            password: data.password\r\n        });\r\n\r\n        if (![200, 201].includes(res.status)) {\r\n            console.log(\"Unexpected Error Occurred\");\r\n            return;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const sendAdminAuthRequest = async (data) => {\r\n    try {\r\n        const res = await axios.post(\"/admin/login\", {\r\n            email: data.email,\r\n            password: data.password,\r\n        });\r\n\r\n        if (res.status !== 200) {\r\n            console.log(\"Unexpected Error\");\r\n            return;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n    try {\r\n        const res = await axios.get(`/movie/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n    try {\r\n        const res = await axios.post('/booking', {\r\n            movie: data.movie,\r\n            seatNumber: data.seatNumber,\r\n            date: data.date,\r\n            user: localStorage.getItem(\"userId\"),\r\n        });\r\n\r\n        if (res.status !== 201) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const getUserBooking = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        const res = await axios.get(`/user/bookings/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const deleteBooking = async (id) => {\r\n    try {\r\n        const res = await axios.delete(`/booking/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const getUserDetails = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        const res = await axios.get(`/user/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const addMovie = async (data) => {\r\n    try {\r\n        const res = await axios.post(\"/movie\", {\r\n            title: data.title,\r\n            description: data.description,\r\n            releaseDate: data.releaseDate,\r\n            posterUrl: data.posterUrl,\r\n            featured: data.featured,\r\n            actors: data.actors,\r\n            admin: localStorage.getItem(\"adminId\"),\r\n        }, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n        });\r\n\r\n        if (res.status !== 201) {\r\n            return console.log(\"Unexpected Error Occurred\");\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n\r\nexport const getAdminById = async () => {\r\n    try {\r\n        const adminId = localStorage.getItem(\"adminId\");\r\n        const res = await axios.get(`/admin/${adminId}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error Occurred\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        logError(err);\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}