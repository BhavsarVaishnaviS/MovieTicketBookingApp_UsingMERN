{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  try {\n    const res = await axios.get(\"/movie\");\n    if (res.status !== 200) {\n      console.log(\"No Data\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  try {\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      // name: signup ? data.name : \"\",\n      // email: data.email,\n      // password: data.password\n      data\n    });\n    if (res.status !== 200 && res.status !== 201) {\n      console.log(\"Unexpected Error Occurred\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const sendAdminAuthRequest = async data => {\n  try {\n    const res = await axios.post(\"/admin/login\", {\n      email: data.email,\n      password: data.password\n    });\n    if (res.status !== 200) {\n      console.log(\"Unexpected Error\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getMovieDetails = async id => {\n  const res = await axios.get(`/movie/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const newBooking = async data => {\n  try {\n    const res = await axios.post('/booking', {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n    if (res.status !== 201) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getUserBooking = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/bookings/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const deleteBooking = async id => {\n  try {\n    const res = await axios.delete(`/booking/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getUserDetails = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const addMovie = async data => {\n  const res = await axios.post(\"/movie\", {\n    title: data.title,\n    description: data.description,\n    releaseDate: data.releaseDate,\n    posterUrl: data.posterUrl,\n    featured: data.featured,\n    actors: data.actors,\n    admin: localStorage.getItem(\"adminId\")\n  }, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).catch(err => console.log(err));\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getAdminById = async () => {\n  const adminId = localStorage.getItem(\"adminId\");\n  const res = await axios.get(`/admin/${adminId}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","status","console","log","data","err","sendUserAuthRequest","signup","post","sendAdminAuthRequest","email","password","getMovieDetails","id","catch","resData","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","featured","actors","admin","headers","Authorization","getAdminById","adminId"],"sources":["D:/Task/MovieTicketApp/movie/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n    try {\r\n        const res = await axios.get(\"/movie\");\r\n        if (res.status !== 200) {\r\n            console.log(\"No Data\");\r\n            return;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n    try {\r\n        const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n            // name: signup ? data.name : \"\",\r\n            // email: data.email,\r\n            // password: data.password\r\n            data\r\n        });\r\n\r\n        if (res.status !== 200 && res.status !== 201) {\r\n            console.log(\"Unexpected Error Occurred\");\r\n            return;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const sendAdminAuthRequest = async (data) => {\r\n    try {\r\n        const res = await axios.post(\"/admin/login\", {\r\n            email: data.email,\r\n            password: data.password,\r\n        });\r\n\r\n        if (res.status !== 200) {\r\n            console.log(\"Unexpected Error\");\r\n            return;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n        const res = await axios.get(`/movie/${id}`)\r\n        .catch((err) => console.log(err));\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        const resData=await res.data;\r\n        return resData;\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n    try {\r\n        const res = await axios.post('/booking', {\r\n            movie: data.movie,\r\n            seatNumber: data.seatNumber,\r\n            date: data.date,\r\n            user: localStorage.getItem(\"userId\"),\r\n        });\r\n\r\n        if (res.status !== 201) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getUserBooking = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        const res = await axios.get(`/user/bookings/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const deleteBooking = async (id) => {\r\n    try {\r\n        const res = await axios.delete(`/booking/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getUserDetails = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        const res = await axios.get(`/user/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const addMovie = async (data)=>{\r\n    const res = await axios.post(\"/movie\",{\r\n        title:data.title,\r\n        description:data.description,\r\n        releaseDate:data.releaseDate,\r\n        posterUrl:data.posterUrl,\r\n        featured:data.featured,\r\n        actors:data.actors,\r\n        admin:localStorage.getItem(\"adminId\"),\r\n    },{\r\n        headers:{\r\n            Authorization:`Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n    }).catch(err=>console.log(err))\r\n\r\n    if(res.status !== 201){\r\n        return console.log(\"Unexpected Error Occurred\");\r\n    }\r\n\r\n    const resData = await res.data;\r\n    return resData;\r\n}\r\n\r\nexport const getAdminById = async()=>{\r\n    const adminId = localStorage.getItem(\"adminId\");\r\n    const res = await axios\r\n    .get(`/admin/${adminId}`)\r\n    .catch((err) => console.log(err));\r\n\r\n    if(res.status !== 200){\r\n        return console.log(\"Unexpected Error Occurred\");\r\n    }\r\n\r\n    const resData = await res.data;\r\n    return resData;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}