{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  try {\n    const res = await axios.get(\"/movie\");\n  } catch (err) {\n    console.log(err);\n  }\n  if (res.status !== 200) {\n    return console.log(\"No Data\");\n  }\n  return res.data;\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  try {\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : \"\",\n      email: data.email,\n      password: data.password\n    });\n    if (res.status !== 200 && res.status !== 201) {\n      console.log(\"Unexpected Error Occurred\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const sendAdminAuthRequest = async data => {\n  try {\n    const res = await axios.post(\"/admin/login\", {\n      email: data.email,\n      password: data.password\n    });\n    if (res.status !== 200) {\n      console.log(\"Unexpected Error\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getMovieDetails = async id => {\n  try {\n    const res = await axios.get(`/movie/${id}`);\n    if (res.status !== 200) {\n      console.log(\"Unexpected Error\");\n      return;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const newBooking = async data => {\n  try {\n    const res = await axios.post('/booking', {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n    if (res.status !== 201) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getUserBooking = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/bookings/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const deleteBooking = async id => {\n  try {\n    const res = await axios.delete(`/booking/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getUserDetails = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/${id}`);\n    if (res.status !== 200) {\n      return console.log(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const addMovie = async data => {\n  const res = await axios.post(\"/movie\", {\n    title: data.title,\n    description: data.description,\n    releaseDate: data.releaseDate,\n    posterUrl: data.posterUrl,\n    featured: data.featured,\n    actors: data.actors,\n    admin: localStorage.getItem(\"adminId\")\n  }, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).catch(err => console.log(err));\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getAdminById = async () => {\n  const adminId = localStorage.getItem(\"adminId\");\n  const res = await axios.get(`/admin/${adminId}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","err","console","log","status","data","sendUserAuthRequest","signup","post","name","email","password","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","featured","actors","admin","headers","Authorization","catch","resData","getAdminById","adminId"],"sources":["D:/Task/MovieTicketApp/movie/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n    try {\r\n        const res = await axios.get(\"/movie\");\r\n        \r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n    if (res.status !== 200) {\r\n        return console.log(\"No Data\");\r\n    }\r\n    return res.data;\r\n};\r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n    try {\r\n        const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n            name: signup ? data.name : \"\",\r\n            email: data.email,\r\n            password: data.password\r\n        });\r\n\r\n        if (res.status !== 200 && res.status !== 201) {\r\n            console.log(\"Unexpected Error Occurred\");\r\n            return;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const sendAdminAuthRequest = async (data) => {\r\n    try {\r\n        const res = await axios.post(\"/admin/login\", {\r\n            email: data.email,\r\n            password: data.password,\r\n        });\r\n\r\n        if (res.status !== 200) {\r\n            console.log(\"Unexpected Error\");\r\n            return;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n    try {\r\n        const res = await axios.get(`/movie/${id}`);\r\n        if (res.status !== 200) {\r\n            console.log(\"Unexpected Error\");\r\n            return;\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n    try {\r\n        const res = await axios.post('/booking', {\r\n            movie: data.movie,\r\n            seatNumber: data.seatNumber,\r\n            date: data.date,\r\n            user: localStorage.getItem(\"userId\"),\r\n        });\r\n\r\n        if (res.status !== 201) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getUserBooking = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        const res = await axios.get(`/user/bookings/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const deleteBooking = async (id) => {\r\n    try {\r\n        const res = await axios.delete(`/booking/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getUserDetails = async () => {\r\n    try {\r\n        const id = localStorage.getItem(\"userId\");\r\n        const res = await axios.get(`/user/${id}`);\r\n        if (res.status !== 200) {\r\n            return console.log(\"Unexpected Error\");\r\n        }\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const addMovie = async (data)=>{\r\n    const res = await axios.post(\"/movie\",{\r\n        title:data.title,\r\n        description:data.description,\r\n        releaseDate:data.releaseDate,\r\n        posterUrl:data.posterUrl,\r\n        featured:data.featured,\r\n        actors:data.actors,\r\n        admin:localStorage.getItem(\"adminId\"),\r\n    },{\r\n        headers:{\r\n            Authorization:`Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n    }).catch(err=>console.log(err))\r\n\r\n    if(res.status !== 201){\r\n        return console.log(\"Unexpected Error Occurred\");\r\n    }\r\n\r\n    const resData = await res.data;\r\n    return resData;\r\n}\r\n\r\nexport const getAdminById = async()=>{\r\n    const adminId = localStorage.getItem(\"adminId\");\r\n    const res = await axios\r\n    .get(`/admin/${adminId}`)\r\n    .catch((err) => console.log(err));\r\n\r\n    if(res.status !== 200){\r\n        return console.log(\"Unexpected Error Occurred\");\r\n    }\r\n\r\n    const resData = await res.data;\r\n    return resData;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}