{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  try {\n    const res = await axios.get(\"/movie\");\n    if (res.status !== 200) {\n      console.log(\"No Data\");\n      return;\n    }\n    const data = await res.data;\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  try {\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : \"\",\n      email: data.email,\n      password: data.password\n    });\n    if (res.status !== 200 && res.status !== 201) {\n      console.log(\"Unexpected Error Occurred\");\n      return;\n    }\n    const resData = await res.data;\n    return resData;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const sendAdminAuthRequest = async data => {\n  try {\n    const res = await axios.post(\"/admin/login\", {\n      email: data.email,\n      password: data.password\n    });\n    if (res.status !== 200) {\n      console.log(\"Unexpected Error\");\n      return;\n    }\n    const resData = await res.data;\n    return resData;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getMovieDetails = async id => {\n  try {\n    const res = await axios.get(`/movie/${id}`);\n    if (res.status !== 200) {\n      console.log(\"Unexpected Error\");\n      return;\n    }\n    const resData = await res.data;\n    return resData;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const newBooking = async data => {\n  try {\n    const res = await axios.post('/booking', {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      // Corrected from setNumber to seatNumber\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n    if (res.status !== 201) {\n      console.log(\"Unexpected Error\");\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(\"Error creating new booking:\", err);\n    return null;\n  }\n};\nexport const getUserBooking = async () => {\n  const id = localStorage.getItem(\"userId\");\n  if (!id) {\n    console.log(\"User ID not found in localStorage\");\n    return null;\n  }\n  try {\n    const res = await axios.get(`/user/bookings/${id}`);\n    if (res.status !== 200) {\n      console.log(\"Unexpected Error\");\n      return null;\n    }\n    return res.data;\n  } catch (err) {\n    console.log(\"Error fetching user bookings:\", err);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","status","console","log","data","err","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking"],"sources":["D:/Task/MovieTicketApp/movie/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n    try {\r\n        const res = await axios.get(\"/movie\");\r\n        if (res.status !== 200) {\r\n            console.log(\"No Data\");\r\n            return;\r\n        }\r\n        const data = await res.data;\r\n        return data;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n    try {\r\n        const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n            name: signup ? data.name : \"\",\r\n            email: data.email,\r\n            password: data.password\r\n        });\r\n\r\n        if (res.status !== 200 && res.status !== 201) {\r\n            console.log(\"Unexpected Error Occurred\");\r\n            return;\r\n        }\r\n\r\n        const resData = await res.data;\r\n        return resData;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const sendAdminAuthRequest = async (data) => {\r\n    try {\r\n        const res = await axios.post(\"/admin/login\", {\r\n            email: data.email,\r\n            password: data.password,\r\n        });\r\n\r\n        if (res.status !== 200) {\r\n            console.log(\"Unexpected Error\");\r\n            return;\r\n        }\r\n\r\n        const resData = await res.data;\r\n        return resData;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n    try {\r\n        const res = await axios.get(`/movie/${id}`);\r\n        if (res.status !== 200) {\r\n            console.log(\"Unexpected Error\");\r\n            return;\r\n        }\r\n        const resData = await res.data;\r\n        return resData;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n    try {\r\n        const res = await axios.post('/booking', {\r\n            movie: data.movie,\r\n            seatNumber: data.seatNumber, // Corrected from setNumber to seatNumber\r\n            date: data.date,\r\n            user: localStorage.getItem(\"userId\"),\r\n        });\r\n\r\n        if (res.status !== 201) {\r\n            console.log(\"Unexpected Error\");\r\n            return null;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(\"Error creating new booking:\", err);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const getUserBooking = async () => {\r\n    const id = localStorage.getItem(\"userId\");\r\n\r\n    if (!id) {\r\n        console.log(\"User ID not found in localStorage\");\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const res = await axios.get(`/user/bookings/${id}`);\r\n\r\n        if (res.status !== 200) {\r\n            console.log(\"Unexpected Error\");\r\n            return null;\r\n        }\r\n\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(\"Error fetching user bookings:\", err);\r\n        return null;\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}